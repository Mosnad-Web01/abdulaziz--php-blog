<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<div class="content m-3">
    <h1>Blog Posts</h1>

    <!-- Form to Add a New Post -->
    <form action="blog" method="POST">
        <div class="m-3 ">
            <label for="title" class="form-label">Title</label>
            <input type="text" class="form-control" id="title" name="title" required>
        </div>
        <div class="m-3">
            <label for="content" class="form-label">Content</label>
            <textarea class="form-control" id="content" name="content" rows="5" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary  m-3  ">Add Post</button>
    </form>

    <hr>
    <div>

        <?php if (!empty($posts)): ?>
        <?php foreach ($posts as $post): ?>
        <h2 class="m-4"><?= htmlspecialchars($post['title']); ?></h2>
            <p><?= htmlspecialchars(substr($post['content'], 0, 150)) . '...'; ?></p>
            <a href="post?id=<?= $post['id']; ?>">Read More</a>
            <hr>
        <?php endforeach; ?>
    <?php else: ?>
        <p>No posts available.</p>
    <?php endif; ?>
    </div>
</div>
